<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja" lang="ja">
<head>
	<title>自作ライブラリの習作</title>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="language" content="ja" />
	<meta name="description" content="" />
	<meta name="keywords" content="" />
	
	<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js"></script>
	<script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/json2/20110223/json2.js"></script>
	
	<script type="text/javascript" src="js/SAZ.js"></script>
</head>
<body>
<h1>自作ライブラリの習作</h1>
<script type="text/javascript">


// SAZ.namespace
console.log('- SAZ.namespace -');
// ローカル変数に代入
var module2 = SAZ.namespace('SAZ.modules.module2');
console.log(module2 === SAZ.modules.module2);
// 先頭を省略
SAZ.namespace('modules.module51');
// 長い
SAZ.namespace('once.upon.a.time.there.was.this.long.nested.property');


// SAZ.isArray
console.log('- SAZ.utils.isArray -');
console.log(SAZ.utils.isArray([]));
console.log(SAZ.utils.isArray({}));


// SAZ.curry
console.log('- SAZ.utils.curry -');
function add(x,y) {
	return x + y;
}
var newadd = SAZ.utils.curry(add, 5);
console.log(newadd(4));

function add5(a, b, c, d, e) {
	return a + b + c + d + e;
}
// 引数が複数でもOK
console.log(SAZ.utils.curry(add5, 1, 2, 3)(5, 5));
// 2段階のカリー化
var addOne = SAZ.utils.curry(add5, 1);
console.log(addOne(10, 10, 10, 10));
var addSix = SAZ.utils.curry(addOne, 2, 3);
console.log(addSix(5, 5));


// SAZ.extend
console.log('- SAZ.utils.extend -');
var dad = {name: 'Adam'};
var kid = SAZ.utils.extend(dad);
console.log(kid.name);
var dad2 = {
	counts: [1,2,3],
	reads: {paper: true}
};
var kid2 = SAZ.utils.extend(dad2);

kid2.counts.push(4);
console.log(dad2.counts.toString());		// 1,2,3,4
console.log(dad2.reads === kid2.reads);	// true


// SAZ.extendDeep
console.log('- SAZ.utils.extendDeep -');
var kid3 = SAZ.utils.extendDeep(dad2);

kid3.counts.push(4);
console.log(kid3.counts.toString());
console.log(dad2.counts.toString());

console.log(dad2.reads === kid3.reads);
kid3.reads.paper = false;
kid3.reads.web = true;
console.log(dad2.reads.paper);

</script>
</body>
</html>
